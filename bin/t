#!/usr/bin/env bash
#
# Usage: t [<tmux-session-name>]
#
# Attch to or create a new tmux session with the given name. With no
# arguments, use the name of the working directory as the session name.
#
# Examples:
#
#   $ t my-session   # => $ tmux new -s my-session
#   $ t my-session   # => $ tmux attach -t my-session
#
# Requirements:
#
#   - tmux

set -e

if [ -z "$1" ]; then
  SESSION="${PWD##*/}"
else
  SESSION="$1"
fi

if (tmux has-session -t "$SESSION" >/dev/null 2>&1); then
  tmux attach -t "$SESSION"
else
  tmux new-session -s "$SESSION"
fi
